{% load widget_tweaks %}

<div class="col"></div>
<div class="col-6">
    <div class="card">
        <div class="card-body">
            <form action="{% url 'register' %}" method="post" autocomplete="off">
                {% csrf_token %}
                <div class="mt-2">
                    <label class="form-label">{{ form.username.label_tag }}</label>
                    {{ form.username.errors }}
                    {% render_field form.username class="form-control" hx-swap="outerhtml" hx-post='/check_username/' hx-trigger="keyup delay:0.5s" hx-target="#username-error" %}
                    <div id="username-error" class="mt-2"></div>
                </div>

                <div class="mt-2">
                    <label class="form-label">{{ form.password1.label_tag }}</label>
                    {{ form.password1.errors }}
                    {% render_field form.password1 class="form-control" %}
                </div>

                <div class="mt-2">
                    <label class="form-label">{{ form.password2.label_tag }}</label>
                    {% render_field form.password2 class="form-control" hx-swap="outerhtml" hx-post="/check_passwords/" hx-trigger="keyup" hx-target="#passwords-error" %}
                </div>
                <div id="passwords-error" class="mt-2"></div>

                <button type="submit" class="btn btn-primary mt-3">
                    Submit
                </button>
            </form>
        </div>
    </div>
</div>
<div class="col"></div>